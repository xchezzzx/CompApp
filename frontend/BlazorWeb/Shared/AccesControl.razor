@using Microsoft.AspNetCore.Components.WebAssembly.Authentication

@inject NavigationManager Navigation
@inject SignOutSessionStateManager SignOutManager

<AuthorizeView>
	<Authorized>
		Hello, @context.User.Identity.Name!
		<a href="#" @onclick="BeginSignOut">
			<span class="oi oi-account-logout" aria-hidden="true"></span> Log out
		</a>
	</Authorized>
	<NotAuthorized>
		<a href="authentication/login">
			<span class="oi oi-account-login" aria-hidden="true"></span> Log in
		</a>
	</NotAuthorized>
</AuthorizeView>


@code {
	private async Task BeginSignOut(MouseEventArgs args)
	{
		await SignOutManager.SetSignOutState();
		Navigation.NavigateTo("authentication/logout");
	}
}
